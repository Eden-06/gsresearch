#!/bin/bash

ls -1 | grep -E "(.*)[_](.*)[.]pdf" | while read name;
do
 dir=$(echo "$name" | sed -r 's/^(.+[ ])?(.+)[_].*/\2/')
 if [ -d $dir ]; then
  : # do nothing
 else
  mkdir "$dir"
 fi
 echo "Moving $name to $dir"
 mv "$name" "$dir/"
done
